version: "3.9"

services:
  summarizer:
    build:
      context: .
      args:
        - API_PORT=${API_PORT:-8000}
    container_name: summarizer
    ports:
      - "${API_PORT:-8000}:${API_PORT:-8000}"
    env_file:
      - .env
    volumes:
      - ./data:/data
      # Montar credenciales de Google Drive desde secrets/
      - ./secrets:/secrets:ro
    environment:
      - GOOGLE_DRIVE_TOKEN_PATH=/data/gdrive_token.pickle
